<div class="event-nav">
    <div class="button-group">
        <div class="button-container">
            <button data-uri="/html/events/anaphylaxis-dx.html" data-title="Anaphylaxis" class="bg-dx">Dx</button>
        </div>
        <div class="button-container">
            <button data-uri="/html/events/anaphylaxis-ddx.html" data-title="Anaphylaxis" class="bg-ddx">DDx</button>
        </div>
        <div class="button-container">
            <button data-uri="/html/events/anaphylaxis-tx.html" data-title="Anaphylaxis" class="bg-tx emphasis">Tx</button>
        </div>
        <div class="button-container">
            <button data-uri="/html/events/anaphylaxis-rx.html" data-title="Anaphylaxis" class="bg-rx">Rx</button>
        </div>
        <div class="button-container">
            <button data-uri="/html/events/anaphylaxis-crisis.html" data-title="Anaphylaxis" class="bg-crisis">Crisis</button>
        </div>
    </div>
    <div class="bg-tx event-title">Treatment</div>
</div>
<div class="page">
    <ul>
        <li>Give 100% O<sub>2</sub>, evaluate ventilation</li>
        <li>Remove suspected trigger(s)
            <ul>
                <li>If latex is suspected: thoroughly wash area, have surgeons change to non-latex gloves</li>
                <li>If HYPOtensive: turn off anesthetic agents</li>
            </ul>
        </li>
        <li class="no-weight">To restore intravascular volume: give NS or LR 10-30 mL/kg IV/IO rapidly</li>
        <li class="has-weight">To restore intravascular volume: give NS or LR <span id="weight-range-1"></span> mL <span class="per-kg-weight">(10-30 mL/kg)</span> IV/IO rapidly</li>

        <li class="no-weight">To restore BP and ↓ mediator release: give epinephrine 1-10 MICROgrams/kg IV/IO,
                as needed, may need infusion 0.02-0.2 MICROgrams/kg/min
        </li>
        <li class="has-weight">To restore BP and ↓ mediator release: give epinephrine <span id="weight-range-2"></span> MICROgrams <span class="per-kg-weight">(1-10 MICROgrams/kg)</span> IV/IO,
            as needed, may need infusion 0.02-0.2 MICROgrams/kg/min
        </li>

        <li class="no-weight">To ↓ histamine-mediated effects: give diphenhydramine 1 mg/kg IV/IO (MAX 50 mg)</li>
        <li class="has-weight">To ↓ histamine-mediated effects: give diphenhydramine <span id="weight-range-4"></span> mg <span class="per-kg-weight">(1 mg/kg, MAX 50 mg)</span> IV/IO</li>

        <li class="no-weight">To ↓ mediator release: give methylprednisolone 2 mg/kg IV/IO (MAX 100 mg)</li>
        <li class="has-weight">To ↓ mediator release: give methylprednisolone <span id="weight-range-5"></span> mg <span class="per-kg-weight">(2 mg/kg, MAX 100 mg)</span> IV/IO</li>

        <li class="no-weight">For continued ↓ BP: give vasopressin 10 MICROunits/kg IV</li>
        <li class="has-weight">For continued ↓ BP: give vasopressin <span id="weight-range-6"></span> MICROunits <span class="per-kg-weight">(10 MICROunits/kg)</span> IV</li>

        <li>To ↓ bronchoconstriction: give albuterol 4-10 puffs as needed</li>

        <li class="no-weight">To ↓ effects of histamine: give famotidine 0.25 mg/kg IV (MAX 20 mg) or ranitidine 1 mg/kg IV (MAX 50 mg)</li>
        <li class="has-weight">To ↓ effects of histamine: give famotidine <span id="weight-range-7"></span> mg <span class="per-kg-weight">(0.25 mg/kg, MAX 20 mg)</span> IV or ranitidine <span id="weight-range-8"></span> mg <span class="per-kg-weight">(1 mg/kg, MAX 50 mg)</span> IV</li>

        <li>If lab confirmation needed, send mast cell tryptase level within 2 hours</li>

        <li>Consider <span class="uri" data-uri="/html/events/anaphylaxis-ddx.html" data-title="Anaphylaxis">DDx<span></li>
    </ul>
    <div class="bg-tx event-title">Common CAUSATIVE Agents</div>
    <ul>
        <li>IV contrast</li>
        <li>Antibiotics</li>
        <li>Latex</li>
        <li>Neuromuscular blockers</li>
        <li>Chlorhexidine prep solution</li>
    </ul>
</div>

<script>
    if (app.weight > 0) {
        // We'll fill in the weight ranges here.

        // 10-30 mL/kg
        const calculatedRange1a = app.printNumber(app.weight * 10, 0, 2);
        const calculatedRange1b = app.printNumber(app.weight * 30, 0, 2);
        document.getElementById("weight-range-1").textContent = calculatedRange1a + "-" + calculatedRange1b;

        // 1-10 MICROgrams/kg
        const calculatedRange2a = app.printNumber(app.weight, 0, 2);
        const calculatedRange2b = app.printNumber(app.weight * 10, 0, 2);
        document.getElementById("weight-range-2").textContent = calculatedRange2a + "-" + calculatedRange2b;

        // 1 mg/kg, MAX 50 mg
        const calculatedRange4a = app.printNumber(Math.min(app.weight, 50), 0, 2);
        document.getElementById("weight-range-4").textContent = calculatedRange4a;

        // 2 mg/kg, MAX 100 mg
        document.getElementById("weight-range-5").textContent = app.printNumber(Math.min(app.weight * 2, 100), 0, 2);

        // 10 MICROunits/kg
        document.getElementById("weight-range-6").textContent = app.printNumber(app.weight * 10, 0, 2);

        // 0.25 mg/kg, MAX 20 mg
        document.getElementById("weight-range-7").textContent = app.printNumber(Math.min(app.weight * 0.25, 20), 0, 2);

        // 1 mg/kg, MAX 50 mg
        document.getElementById("weight-range-8").textContent = app.printNumber(Math.min(app.weight, 50), 0, 2);
    }
</script>
